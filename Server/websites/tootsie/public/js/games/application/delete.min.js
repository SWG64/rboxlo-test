function deleteApplication(e){console.log(`[rboxlo->info]: delete::deleteApplication | deleting application with ID ${e}`);let a=$('meta[name="rboxlo-csrf"]').attr("content");fetch(url("/api/games/application/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_csrf:a,id:e})}).then(e=>e.json()).then(e=>{let a=$("#update");e.success&&(a.text(`Successfully deleted application "${e.deleted.displayName}"!`),a.removeClass("d-none"),a.removeAttr("style"),$("#delete-application-modal").modal("hide"),populate(),setTimeout(()=>{a.fadeOut("slow")},2250))})}function modal(e){$("#delete-application-submit").off("click").on("click",()=>{deleteApplication(e)}),$("#delete-application-modal").modal("show")}function populate(e=!1){console.log(`[rboxlo->info]: delete::data | fetching data (initializing: ${e?"TRUE":"FALSE"})`),e||($("#data").addClass("d-none"),$("#data-loading").removeClass("d-none"));let a=$("#data-body");a.html(""),$("#data-empty").hasClass("d-none")||$("#data-empty").addClass("d-none"),fetch(url("/api/games/application/json")).then(e=>e.json()).then(e=>{0==e.length?($("#data-loading").addClass("d-none"),$("#data-empty").removeClass("d-none")):($(e).each(function(){let e=$("<tr>",{style:"cursor: pointer"}),t=$("<td>",{class:"align-middle text-center"}).append(this.id),d=$("<td>",{class:"align-middle"}).append(this.displayName),n=$("<td>",{class:"align-middle"}).append($("<code>").append(this.internalName)),l=$("<td>",{class:"align-middle"}).append($("<code>").append(this.uuid)),i=$("<td>",{class:"align-middle"});this.lastDeployedVersionUUID.length>0?i.append($("<code>").append(this.lastDeployedVersionUUID)):i.append($("<i>",{class:"text-muted"}).append("none"));let p=$("<td>",{class:"align-middle"}).append(timestamp(this.lastUpdatedTimestamp)),o=$("<td>",{class:"align-middle"}).append(timestamp(this.createdTimestamp));e.append(t),e.append(d),e.append(n),e.append(l),e.append(i),e.append(p),e.append(o),a.append(e),e.on("click",()=>{modal(this.id)})}),setTimeout(()=>{$("#data-loading").addClass("d-none"),$("#data").removeClass("d-none")},200))})}$(document).ready(()=>{$("#data-refresh").on("click",()=>{populate()}),populate(!0)});